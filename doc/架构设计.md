**架构设计**

本项目采用模块化架构设计，主要分为以下几个核心模块：

- 剪切板管理：负责监控系统剪切板的变化、操作修改剪切板内容。
- 存储层：负责持久化历史记录（文本、图片、文件路径）。
- 交互层：用户界面，用于搜索、预览和选择条目。

# 剪切板管理

- 检测剪切板内容变更。
- 回写剪切板。

可以有一些扩展策略：

- 敏感过滤: 检测是否来自密码管理软件（如 1Password/Bitwarden），如果是则忽略，保护隐私。
- 去重逻辑: 连续两次相同的内容不应重复记录。

> 技术选型：
>
> - 剪切板 API：[clipboard-rs](https://github.com/ChurchTao/clipboard-rs)

# 存储层

- 持久化存储剪切板历史记录（专有数据模型）。
- 支持模糊查询。
- 支持自定义排序规则。

> 技术选型
>
> - 数据库：[sled](https://github.com/spacejam/sled)
> - 检索模型：[tantivy](https://github.com/tantivy-search/tantivy)

# 交互层

- 全局快捷键唤起窗口。
- 托盘图标: 需要一个 System Tray 图标来管理退出和设置。
- 列表展示历史记录，支持搜索和预览。
- 支持键盘导航和选择。
- 选中后回写剪切板并触发粘贴操作。

> 技术选型
>
> - UI 库：[gpui](https://github.com/longbridge/gpui-component)
